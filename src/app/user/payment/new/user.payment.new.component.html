<loading-spinner *ngIf="loading | async"></loading-spinner>
<ng-container *ngIf="auth.user | async;let userItem">
  <div *ngIf="!(loading | async)" style="height:100%;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;padding:10px 20px 10px 20px">
    
    <form novalidate (ngSubmit)="createToken()" [formGroup]="serviceGroup">
      <input type="text" formControlName="title">
      <div id="card-element" class="field"></div>
      <button type="submit">
        CREATE TOKEN
      </button>
    </form>

		<!-- <div style="flex:none;display:flex;flex-direction:row;align-items:center">
			<h4 style="flex:none">New Payment</h4>
			<div style="flex:1;display:flex;flex-direction:row;justify-content:flex-end">
				<back></back>
			</div>
    </div>
    <form [formGroup]="serviceGroup" novalidate>
      <div style="flex:1;display:flex;flex-direction:column">
        <div style="flex:none;display:flex;flex-direction:row;align-items:center;flex-flow:wrap;">
          <div class="alert alert-info" style="flex:1;display:flex;flex-direction:row;align-items:flex-end;flex-flow:wrap">
            <div style="flex:none;margin-right:10px">
              <ng-container *ngIf="defaultServiceImage | async; then showdefaultserviceimage"></ng-container>
              <ng-template #showdefaultserviceimage>
                <ng-container *ngIf="defaultServiceImage | async;let image">
                  <div>
                    <ng-container *ngIf="image.url == '../../../assets/defaultThumbnail.jpg'; then noimage else showimage"></ng-container>
                    <ng-template #showimage>
                      <img [src]="image.url" (click)="showImageList()" style="cursor:pointer">
                    </ng-template>
                    <ng-template #noimage>
                      <img [src]="image.url">
                    </ng-template>
                  </div>
                </ng-container>
              </ng-template>
            </div>
            <div style="flex:none">
              <input formControlName="name" />
            </div>
            <div style="flex:1;text-align:right;margin-right:5px">
              <input formControlName="amount" />
            </div>
          </div>
          <div style="flex:none;margin-left:10px">
            <ng-container *ngIf="userServices | async;let userServiceItems">
              <ng-container *ngIf="userServiceItems.length > 0; then showuserservices"></ng-container>
              <ng-template #showuserservices>
                <mat-form-field>
                  <mat-select #select="matSelect" (selectionChange)="selectService()" placeholder="Choose service" [formControl]="userServicesCtrl" style="margin-top:5px" matTooltip="Choose service to pay with">
                    <mat-option *ngFor="let service of userServiceItems; trackBy: trackUserServices" [value]="service">{{ service.title | truncate: 35 }}</mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-template>
            </ng-container>
          </div>
        </div>
        <div style="flex:none;text-align:right">
          <ngx-stripe-card
            [options]="cardOptions"
            [elementsOptions]="elementsOptions">
          </ngx-stripe-card>
        </div>
        <div style="flex:none;text-align:right">
          <button [disabled]="showPaymentButton" class="pay" (click)="pay()">PAY</button>
        </div>
      </div>
    </form> -->
	</div>
</ng-container>